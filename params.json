{"name":"Automated TV Shows management for a Raspberry with OSMC","tagline":"Media center (OSMC) with automated TV Shows and subtitles download. Once configured, sit and watch TV.","body":"[![Circle CI](https://circleci.com/gh/alombarte/raspberry-osmc-automated.svg?style=svg)](https://circleci.com/gh/alombarte/raspberry-osmc-automated)\r\n\r\nSetup of a **media center**  with **automated episode/film downloads** in the background.\r\n\r\n- [OSMC](https://osmc.tv/) for the mediacenter, interacting with your own TV remote.\r\n- [Transmission](http://www.transmissionbt.com/) to download torrents\r\n- [Flex](http://flexget.com/) to automate the episode search and download\r\n\r\nWatch TV as soon shows are released without doing anything.\r\n\r\n\r\n## Requirements\r\n- A running OSMC ([Download and install](https://osmc.tv/download/) here, easy as hell to install).\r\n- Hardware: A Raspberry Pi (1 or 2), Vero or Apple TV\r\n- An account in [ShowRSS](https://showrss.info/) or similar feed service that configures your own feed.\r\n \r\nThis setup has been tested in the latest OSMC at the moment of writing: [**release 2015.08-1**](https://osmc.tv/download/images/)\r\n\r\n## What you get...\r\nAfter the installation you get a mediacenter operated from your TV remote. All your selected TV Shows are puctually downloaded in their correct folder with its subtitles, and the filesystem is kept clean and organized, no maintenance to do. Some of the features are:\r\n\r\n- Operation from the remote, no mouse nor keyboard needed.\r\n- The setup of your preferred TV Shows taken from ShowRSS or any other feed of your interest.\r\n- All downloads automated, moved to the right folder structure when completed and using real episode names and season information (taken from TheTVDB).\r\n- Automatic download of subtitles and retry of failed ones every hour.\r\n- Downloads folder and transmission taks always clean.\r\n- Updated Kodi library with TV Shows covers and art cover.\r\n\r\nThe following services can be used remotely:\r\n\r\nService  | Access  | User / Password\r\n-------- | ---- | -----------\r\nTransmission web client | http://$OSMC_HOST:9091 | transmission / transmission\r\nKodi Web (Remote) | http://$OSMC_HOST/ | None\r\nOpen SSH | ssh osmc@$OSMC_HOST |  osmc/osmc (`sudo` is available)\r\n\r\n**Samba** is not installed, all my downloads go to an external storage (USB) that I can carry everywhere. Think that the Raspberry is not a regular PC and you can hit memory limits easily, the less services you put the better. Occasional transfers can be easily done using `scp myfile osmc@$OSMC_HOST`. \r\n\r\n\t\r\n# Installation\r\nIn order to start the installation just SSH to your fresh OSMC installation in the raspeberry:\r\n\r\n\tssh osmc@YOUR_OSMC_IP\r\n\r\nThen the installation starts by copy-pasting this line:\r\n\r\n\tbash <(curl -H 'Pragma: no-cache' -H 'Cache-Control: no-cache' -s 'https://raw.githubusercontent.com/alombarte/raspberry-osmc-automated/master/install.sh') /home/osmc/.raspberry-osmc-automated  2>&1 | tee installation.log\r\n\t\t\r\nThe installation script will download all necessary files and will configure the raspberry for you. During the installation process you will be asked for your `RSS feed` URL, your IP and the mountpoint of your external storage (if any).\r\n\r\n**Your mediacenter is ready!**\r\n\r\n### Getting the RSS feed\r\nIf you don't have a RSS you can sign up in a free service like [ShowRSS](http://showrss.info). Once you have done it add some TV Shows to your feed and then get the link by clicking [\"Generate\" in the feeds section](https://showrss.info/?cs=feeds) \r\n\r\n\r\n## Extending the configuration\r\nIf you want to tweak on the existing installation, this might help you a little bit. To begin with, all the configuration variables you chose during installation are saved in `/home/osmc/.raspberry-osmc-automated/bash/settings.cfg`. Don't change them because it doesn't have any effect, they are used only during the installation and are there for informative purposes afterwards.\r\n\r\nThe following paths assume you installed the application under `/home/osmc/.raspberry-osmc-automated`\r\n### Changing the automation of TV Shows\r\nThe Real magic happens by configuring this task. The default task downloads all episodes to `/home/osmc/TV Shows`, it uses a structure like `TV Shows/Show name/Season 1/Episode Name`\r\n\r\nFor any changes edit the file:\r\n\r\n\t/home/osmc/.raspberry-osmc-automated/flex/config.yml\r\n\t\r\nThen execute flexget to see if it's working (the flexget daemon might need to be restarted):\r\n\r\n\t/usr/local/bin/flexget exec\r\n\t\r\n#### Subtitles\r\nAll jobs executed by flexget related with `TV Shows` try to download the subtitle in the language you chose during installation. There are 2 different attempts 2 download subtitles:\r\n\r\n- Just after an episode is downloaded: Flexget will use the `subliminal` tool to get the associate subtitle. This operation might fail if you are downloading a just aired episode and the subtitles have not been written yet.\r\n- In order to complete any missing subtitles, every hour a cron job tries to download missing ones.\r\n\r\nIf post-install you ever need to change the subtitle language you need to edit 2 files:\r\n\r\n- `\t/home/osmc/.raspberry-osmc-automated/flex/config.yml` and change the 2 letter code (e.g `es`) in the following line: `exec:  subliminal download -l es ....`\r\n- In the crontab with the command `crontab -e` and look for the line invoking `subliminal`\r\n\r\n##### Using your addic7ed account\r\nIf you have an account in `addic7ed` you can pass your credentials in the aforementioned places adding the flag `--addic7ed YOURUSER YOURPASSWORD`. E.g:\r\n\r\n\t/usr/local/bin/subliminal --addic7ed YOURUSER YOURPASSWORD download -l es -s \"/home/osmc/TV Shows/\"\r\n\r\n### Crontab\r\nIf you want to change the frequency of the feed checking, add, or remove jobs just execute:\r\n\r\n\tcrontab -e\r\n\r\n### SSH without password:\r\nIf you want to stop typing the password every time you SSH to the Raspberry Pi do the following in your Mac/Linux:\r\n\r\n\t# Put here your raspberry IP, e.g:\r\n\tOSMC_HOST=192.168.1.10\r\n\t\r\n\t# Copy SSH key to OSMC server\r\n\tcat ~/.ssh/id_rsa.pub | ssh osmc@$OSMC_HOST 'mkdir -p ~/.ssh; umask 077; cat >>~/.ssh/authorized_keys'\r\n\r\n\r\n### Broken locales?\r\nIf you see this message on every login:\r\n\r\n\t-bash: warning: setlocale: LC_ALL: cannot change locale (en_US.UTF-8)`\r\n   \r\nThis is a possible fix:\r\n\r\n    sudo locale-gen \"en_US.UTF-8\"\r\n    sudo dpkg-reconfigure locales\r\n    # Choose en_US.UTF-8\r\n\r\n## Spotify and Youtube\r\nThe spotify plugin doesn't come preinstalled. If you have a Premium account you will be able to install it using `bash/spotify.sh`.\r\n\r\nThe Youtube plugin can be installed manually from the Add-on repository browser.\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}